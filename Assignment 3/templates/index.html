{% extends "base.html" %}
{% block content %}

<section class="part-card" id="part1">
    <h2>Part 1 – Gradients and Laplacian of Gaussian</h2>
    <p>Upload a folder of images. The app will compute gradient magnitude, gradient angle, and LoG images.</p>
    <form id="form-part1">
        <input type="file" name="images" webkitdirectory directory multiple required>
        <button type="submit">Run Part 1</button>
    </form>
    <div class="status" id="status-part1"></div>
</section>

<section class="part-card" id="part2">
    <h2>Part 2 – Edge and Corner Keypoints</h2>
    <p>Upload a folder of images. The app will detect edge-based and Harris corner keypoints.</p>
    <form id="form-part2">
        <input type="file" name="images" webkitdirectory directory multiple required>
        <button type="submit">Run Part 2</button>
    </form>
    <div class="status" id="status-part2"></div>
</section>

<section class="part-card" id="part3">
    <h2>Part 3 – Object Boundary (Brain)</h2>
    <p>Upload the MRI / brain images. The app will segment the main object and draw the boundary.</p>
    <form id="form-part3">
        <input type="file" name="images" webkitdirectory directory multiple required>
        <button type="submit">Run Part 3</button>
    </form>
    <div class="status" id="status-part3"></div>
</section>

<section class="part-card" id="part4">
    <h2>Part 4 – ArUco-Based Object Segmentation</h2>
    <p>Upload images of a non-rectangular object with ArUco markers on its boundary.</p>
    <form id="form-part4">
        <input type="file" name="images" webkitdirectory directory multiple required>
        <button type="submit">Run Part 4</button>
    </form>
    <div class="status" id="status-part4"></div>
</section>

<section class="part-card" id="part5">
    <h2>Part 5 – ArUco vs SAM2 Segmentation Comparison</h2>
    <p>
        Upload the same object images as input. Optionally, upload SAM2 masks.
        If you skip uploading masks, the app will try to run SAM2 automatically
        {% if not has_sam2 %}(SAM2 is NOT installed right now on this machine){% endif %}.
    </p>
    <form id="form-part5">
        <label class="field-label">Dataset images:</label>
        <input type="file" name="images" webkitdirectory directory multiple required>

        <label class="field-label">SAM2 mask images (optional):</label>
        <input type="file" name="masks" webkitdirectory directory multiple>

        <button type="submit">Run Part 5</button>
    </form>
    <div class="status" id="status-part5"></div>
</section>

{% endblock %}
